"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),e}function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}jQuery(document).ready(function(e){}),function(i){var t=function(){function o(){_classCallCheck(this,o),_defineProperty(this,"introText",!0),_defineProperty(this,"introVideo",!0),_defineProperty(this,"initialized",!1),_defineProperty(this,"introTextDuration",3e3),this.init()}return _createClass(o,[{key:"init",value:function(){this.checkElements(),this.intro(),this.video()}},{key:"checkElements",value:function(){this.introText=!!i("#site-intro").length,this.introVideo=!!i("#video-intro").length,this.introText||this.introVideo||this.main()}},{key:"intro",value:function(){var t,e;this.introText&&(console.log("START: intro"),t=this,o.body.addClass("active-intro"),e=setTimeout(function(){console.log("ENDED: intro"),i("#site-intro").fadeOut(function(){i("body").removeClass("active-intro"),t.introText=!1,t.video(),t.main()})},this.introTextDuration),i("#site-intro").data("introtimer",e),i("#site-intro").on("click",function(){console.log("ENDED: intro on click");var e=i("#site-intro").data("introtimer");e&&(clearTimeout(e),i("#site-intro").removeData("introtimer")),i("#site-intro").fadeOut(function(){i("body").removeClass("active-intro"),t.introText=!1,t.video(),t.main()})}))}},{key:"video",value:function(){var e,t;this.introVideo&&!this.introText&&(this.introVideo=!1,console.log("STARTED: video"),e=this,t=i("#ruven-video"),o.body.addClass("active-video"),console.log("video is playing"),t.get(0).play(),t.parent().on("click",function(){console.log("ENDED: video on click"),t.get(0).pause(),o.body.removeClass("active-video"),e.main()}),t.on("ended",function(){console.log("video ended"),o.body.removeClass("active-video"),e.main()}))}},{key:"main",value:function(){console.log(this.introText,this.introVideo);this.introText||this.introVideo||(console.log("MAIN: initialized"),o.body.addClass("app-loaded"),this.initialized=!0,this.projects())}},{key:"tester",value:function(){}},{key:"projects",value:function(){i(".projects").length&&(console.log("PROJECTS:"),new e)}}]),o}();_defineProperty(t,"body",i("body"));var e=function(){function e(){_classCallCheck(this,e),this.isotope(),this.sort(),this.openProject()}return _createClass(e,[{key:"isotope",value:function(){i(".projects").length&&(console.log("ISOTOPE: loaded"),e.projects=i(".projects").isotope({itemSelector:".project",layoutMode:"fitRows",getSortData:{custom:"[data-custom]",default:"[data-default]"}}))}},{key:"sort",value:function(){i("#sort-button").on("click",function(){e.container.toggleClass("custom-sort"),e.container.hasClass("custom-sort")?e.projects.isotope({sortBy:"custom"}):e.projects.isotope({sortBy:"default"})})}},{key:"openProject",value:function(){e.container.on("click",".project",function(){console.log("project opened!"),t.body.toggleClass("active-project");var e=i(this).find(".single-project");new o(e)})}}]),e}();_defineProperty(e,"projects",void 0),_defineProperty(e,"container",i(".projects"));var o=function(){function t(e){_classCallCheck(this,t),this.init(e),this.moveProject(e),this.initSlider()}return _createClass(t,[{key:"init",value:function(e){console.log(e)}},{key:"moveProject",value:function(e){i("#project-detail .swiper-container").prepend(e)}},{key:"initSlider",value:function(){new Swiper(".swiper-container",{pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})}}]),t}();i(document).ready(function(){new t}),i(window).on("load",function(){i(".preloader").fadeOut("slow",function(){i(this).remove()}),i("#backToTop").on("click",function(e){e.preventDefault(),i("html, body").animate({scrollTop:"0"},1200)})}),i(window).on("scroll",function(){var e=i(window).scrollTop();e<150?i(".sticky-header").removeClass("sticky-active"):i(".sticky-header").addClass("sticky-active"),300<e&&i("#backToTop").addClass("active"),e<300&&i("#backToTop").removeClass("active")})}(jQuery);